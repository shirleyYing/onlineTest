<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>在线测试系统</title>
<meta name="description" content="">
<meta name="keywords" content="">
    <link href="css/flat-ui/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/flat-ui/flat-ui.css" rel="stylesheet">
</head>
<body>
<style type="text/css">
    .container{
        width: 800px;
        height: 400px;
        margin: auto;
        margin-top: 
    }
    .title{
        font-size: 30px;
        font-weight: 600;
        color:#34495e;
        width: 200px;
        margin: 50px  auto 20px;

    }
    .login-button{
        float: right;
        margin-right: 265px;
    }
</style>
 <nav class="navbar navbar-inverse navbar-lg" role="navigation">
        <div>
          <a class="navbar-brand" href="#">在线测试系统</a>
        </div>
       
    </nav>
<div class="container">
    <!-- <p class="title">
        在线测试系统  
    </p> -->
    
    <form role="form" class="form-horizontal login-page">

        <div class="form-group">
          <label class="col-lg-4 control-label" for="name">用户名</label>
            <div class="col-lg-4">
               <input type="text" class="form-control col-lg-4" name="name" >
            </div>
        </div>
      <div class="form-group">
          <label for="pwd" class="col-lg-4 control-label">密码</label>
          <div class="col-lg-4">
              <input type="password" class="form-control" name="password" placeholder="Password"></div>    
      </div>
      <div class="form-group">
          <label class="col-lg-4 control-label" for="role">角色</label>
          <div class="col-lg-4">
              <input type="radio" name="role" class="radio radio-inline"  data-toggle="radio" id="role" value='student'>          
              学生
              <input type="radio" name="role" class="radio radio-inline"  data-toggle="radio" id="role" value='teacher'>          
              教师
              <input type="radio" name="role" class="radio radio-inline"  data-toggle="radio" id="role" value='admin'>管理员</div>
      </div>

      <button type="button" class="btn btn-success login-button">登录</button>
    </form>
</div>
</body>
<script src="vender/jquery.min.js"></script>
<script type="text/javascript" src="vender/flat-ui.min.js"></script>
<script type="text/javascript" src="vender/application.js"></script>
<script>
    var local_stroage = window.localStroage;
    $('.login-button').click(function(){
        var arr=$('.login-page').serializeArray();
        var userData={};
        $.each(arr,function(index,item){
            userData[item.name] = item.value;
        });
        var storage=localStorage;
        $.ajax({
            data:userData,
            url:'/login',
            method:'post',
            success:function(data){
                if(data.data){
                    storage.userId = userData.name;
                    var role = userData.role;
                    if(role==='student'){
                        location.href="student_index.html";
                    }else if(role==='teacher'){
                        location.href="teacher_index.html";
                    }
                }else{
                    alert("用户名或密码错误");
                }
            },
            error:function(err){
                console.log(err);
                alert("网络错误");
            }
        });
    });
</script>
</html>